/*
 * AUTOMATICALLY GENERATED FILE - DO NOT EDIT
 */

// Generated from ..\src\templates\dotnet_client.template
extern const char * const kDotnetClient;

const char * const kDotnetClient = 
"/** \n"
" * Generated by erpcgen {$erpcVersion} on {$todaysDate}.\n"
" * \n"
" * AUTOGENERATED - DO NOT EDIT\n"
" */\n"
" {% set iface = interface %}\n"
"\n"
"using {$groupPackage}.interfaces;\n"
"{% if not empty(group.symbolsMap.structs) %}using {$groupPackage}.common.structs;{% elif not empty(structs)%}using {$groupPackage}.common.structs;{% endif %}\n"
"{% if not empty(enums)%}using {$groupPackage}.common.enums;{% endif %}\n"
"{%  for inc in includes %}\n"
"using {$inc};\n"
"{%  endfor -- includes %}\n"
"using io.github.embeddedrpc.erpc.auxiliary;\n"
"using io.github.embeddedrpc.erpc.client;\n"
"using io.github.embeddedrpc.erpc.codec;\n"
"\n"
"using System.Collections.Generic;\n"
"\n"
"namespace {$groupPackage}.client;\n"
"\n"
"public class {$iface.name}Client : I{$iface.name} {\n"
"    private readonly ClientManager clientManager;\n"
"    private static readonly int SERVICE_ID = {$interface.id};\n"
"{% for fn in interface.functions %}\n"
"    private static readonly int {$upper(fn.name)}_ID = {$fn.id};\n"
"{% endfor -- fn %}\n"
"\n"
"    public {$iface.name}Client(ClientManager clientManager) {\n"
"        this.clientManager = clientManager;\n"
"    }\n"
"{% for fn in iface.functions %}\n"
"{$loop.addNewLineIfNotLast}\n"
"    public {$fn.prototype} {\n"
"        // Create request\n"
"        RequestContext request = clientManager.createRequest({% if fn.isOneway %}true{% else %}false{% endif %});\n"
"        Codec codec = request.codec;\n"
"\n"
"        // Write message info\n"
"        codec.startWriteMessage(new MessageInfo(\n"
"                MessageType.{% if fn.isReturnValue %}kInvocationMessage{% else %}kOnewayMessage{% endif %},\n"
"                SERVICE_ID,\n"
"                {$upper(fn.name)}_ID,\n"
"                request.sequence));\n"
"\n"
"        // Write message data\n"
"{%  for p in fn.inParameters if not p.serializedViaMember %}\n"
"{%     if p.isNullable %}\n"
"        if({$p.name} == null) {\n"
"            codec.writeNullFlag(1);\n"
"        } else {\n"
"            codec.writeNullFlag(0);\n"
"{$          addIndent(\"            \", p.call.encode(p.call))}\n"
"        }\n"
"{%     else %}\n"
"        Utils.checkNotNull({$p.name}, \"{$p.name} is null\");\n"
"        {% if p.call.isReference%}Utils.checkNotNull({$p.name}.get(), \"{$p.name}.value is null\");{% endif %}\n"
"{$      addIndent(\"        \", p.call.encode(p.call))}\n"
"{%     endif -- isNullable %}\n"
"{% endfor -- inParams %}\n"
"\n"
"        // Perform request\n"
"        clientManager.performRequest(request);\n"
"\n"
"{%  if not fn.isOneway %}\n"
"        // Read out parameters\n"
"{% for p in fn.outParameters if not p.serializedViaMember %}\n"
"{%     if p.isNullable %}\n"
"        if(!codec.readNullFlag()) {\n"
"{$         addIndent(\"            \", p.call.decode(p.call))}\n"
"        }\n"
"{%     else %}\n"
"{$         addIndent(\"        \", p.call.decode(p.call))}\n"
"{%     endif -- isNullable %}\n"
"{% endfor -- outParams %}\n"
"{%      if fn.isReturnValue && fn.returnValue.type.type != \"void\" %}\n"
"\n"
"        // Read return value\n"
"{$      addIndent(\"        \",  fn.returnValue.call.decode(fn.returnValue.call))}\n"
"        return {$fn.returnValue.call.name};\n"
"{%      endif -- returnValue %}\n"
"{%  endif -- oneway %}\n"
"    }\n"
"{% endfor -- fn %}\n"
"}\n"
;

